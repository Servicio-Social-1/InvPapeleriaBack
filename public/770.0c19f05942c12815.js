"use strict";(self.webpackChunkgestionPapeleriaUI=self.webpackChunkgestionPapeleriaUI||[]).push([[770],{4159:(C,d,o)=>{o.d(d,{e:()=>s});var e=o(2340),t=o(262),i=o(9646),n=o(4004),a=o(4650),_=o(529);let s=(()=>{class u{constructor(r){this.http=r,this.baseUrl=e.N.baseUrl}login(r){return this.http.post(`${this.baseUrl}/auth/login`,r)}register(r){return this.http.post(`${this.baseUrl}/auth/register`,r)}userStatus(){return this.http.get(`${this.baseUrl}/auth/check-user-status`).pipe((0,t.K)(r=>(0,i.of)(!1)),(0,n.U)(r=>!!r))}adminStatus(){return this.http.get(`${this.baseUrl}/auth/check-admin-status`).pipe((0,t.K)(r=>(0,i.of)(!1)),(0,n.U)(r=>!!r))}loggedIn(r){return this.http.post(`${this.baseUrl}/auth/logged-in`,{token:r})}}return u.\u0275fac=function(r){return new(r||u)(a.LFG(_.eN))},u.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},5642:(C,d,o)=>{o.d(d,{K:()=>a});var e=o(6895),t=o(82),i=o(4006),n=o(4650);let a=(()=>{class _{}return _.\u0275fac=function(u){return new(u||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[e.ez,t.q,i.UX]}),_})()},3589:(C,d,o)=>{o.d(d,{x:()=>i});var e=o(4650),t=o(5412);let i=(()=>{class n{constructor(_){this.dialog=_}openDialog({component:_,callback:s,data:u,sizes:h}){this.dialog.open(_,{maxHeight:"600px",minWidth:h?.minWidth?h?.minWidth:void 0,data:u}).afterClosed().subscribe(D=>{s&&s()})}closeDialog(){this.dialog.closeAll()}}return n.\u0275fac=function(_){return new(_||n)(e.LFG(t.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},7881:(C,d,o)=>{o.d(d,{B:()=>n});var e=o(1135),t=o(7579),i=o(4650);let n=(()=>{class a{constructor(){this.tableRows=new e.X(0),this.tableRows$=this.tableRows.asObservable(),this.tableColumns=new e.X([]),this.tableColumns$=this.tableColumns.asObservable(),this.tableContext=new e.X("departure-ticket"),this.tableContext$=this.tableContext.asObservable(),this.selectedRow=new e.X(null),this.selectedRow$=this.selectedRow.asObservable(),this.rowToRemove=new t.x,this.rowToRemove$=this.rowToRemove.asObservable(),this.listenRowToRemove=new t.x,this.listenRowToRemove$=this.listenRowToRemove.asObservable()}setTableContext(s){this.tableContext.next(s)}setSelectedRow(s){this.selectedRow.next(s)}removeSelectedRow(s){this.rowToRemove.next(s)}setTableRows(s){this.tableRows.next(s)}setTableColumns(s){this.tableColumns.next(s)}toggleListenRowToRemove(s){this.listenRowToRemove.next(s)}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},6267:(C,d,o)=>{o.d(d,{O:()=>t});var e=o(4650);let t=(()=>{class i{constructor(){}setDrawer(a){this.drawer=a}toggleDrawer(){this.drawer.toggle()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2043:(C,d,o)=>{o.d(d,{_:()=>l});var e=o(4650),t=o(6267),i=o(4159),n=o(3060),a=o(6895),_=o(7392),s=o(3267),u=o(4633);const h=["drawer"];function r(c,O){if(1&c){const g=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){e.CHM(g);const M=e.oxw();return e.KtG(M.changeRoute("admin","users"))}),e.TgZ(1,"mat-icon",4),e._uU(2,"supervised_user_circle"),e.qZA(),e._UZ(3,"span",5),e.TgZ(4,"span"),e._uU(5,"Usuarios"),e.qZA()()}}function D(c,O){if(1&c){const g=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){e.CHM(g);const M=e.oxw();return e.KtG(M.changeRoute("admin","areas"))}),e.TgZ(1,"mat-icon",4),e._uU(2,"public"),e.qZA(),e._UZ(3,"span",5),e.TgZ(4,"span"),e._uU(5,"Areas"),e.qZA()()}}function v(c,O){if(1&c){const g=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){e.CHM(g);const M=e.oxw();return e.KtG(M.changeRoute("admin","petitioners"))}),e.TgZ(1,"mat-icon",4),e._uU(2,"person_outline"),e.qZA(),e._UZ(3,"span",5),e.TgZ(4,"span"),e._uU(5,"Solicitantes"),e.qZA()()}}const m=["*"];let l=(()=>{class c{constructor(g,E,M){this.toolbarService=g,this.authService=E,this.router=M}ngOnInit(){this.userStatusSubs=this.authService.adminStatus().subscribe(g=>{this.isAdmin=g})}ngAfterViewInit(){this.toolbarService.setDrawer(this.drawer)}changeRoute(...g){this.router.navigate(["/",...g])}ngOnDestroy(){this.userStatusSubs?.unsubscribe()}}return c.\u0275fac=function(g){return new(g||c)(e.Y36(t.O),e.Y36(i.e),e.Y36(n.F0))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-sidenav"]],viewQuery:function(g,E){if(1&g&&e.Gf(h,5),2&g){let M;e.iGM(M=e.CRH())&&(E.drawer=M.first)}},ngContentSelectors:m,decls:20,vars:3,consts:[["autosize","",1,"container"],["mode","side",1,"sidenav"],["drawer",""],["mat-list-item","",3,"click"],["mat-list-icon",""],[1,"spacer"],["mat-list-item","",3,"click",4,"ngIf"]],template:function(g,E){1&g&&(e.F$t(),e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"mat-nav-list")(4,"a",3),e.NdJ("click",function(){return E.changeRoute("user","departure-ticket")}),e.TgZ(5,"mat-icon",4),e._uU(6,"confirmation_number"),e.qZA(),e._UZ(7,"span",5),e.TgZ(8,"span"),e._uU(9,"Vale de salida"),e.qZA()(),e.TgZ(10,"a",3),e.NdJ("click",function(){return E.changeRoute("user","inventory")}),e.TgZ(11,"mat-icon",4),e._uU(12,"inventory"),e.qZA(),e._UZ(13,"span",5),e.TgZ(14,"span"),e._uU(15,"Inventario"),e.qZA()(),e.YNc(16,r,6,0,"a",6),e.YNc(17,D,6,0,"a",6),e.YNc(18,v,6,0,"a",6),e.qZA()(),e.Hsn(19),e.qZA()),2&g&&(e.xp6(16),e.Q6J("ngIf",E.isAdmin),e.xp6(1),e.Q6J("ngIf",E.isAdmin),e.xp6(1),e.Q6J("ngIf",E.isAdmin))},dependencies:[a.O5,_.Hw,s.jA,s.kh,u.Hk,u.Tg,u.Nh],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%}.sidenav[_ngcontent-%COMP%]{padding:20px}"]}),c})()},7431:(C,d,o)=>{o.d(d,{n:()=>h});var e=o(3713),t=o(4650),i=o(6267),n=o(3589),a=o(8128),_=o(3683),s=o(7392),u=o(4859);let h=(()=>{class r{constructor(v,m,l){this.toolbarService=v,this.dialogService=m,this.dialogMessageService=l}ngOnInit(){}toggleDrawer(){this.toolbarService.toggleDrawer()}logout(){this.dialogMessageService.setMessageContext("logout"),this.dialogMessageService.setMessage("\xbfSeguro que deseas cerrar sesi\xf3n?"),this.dialogService.openDialog({component:e.P,data:{isConfirmMessage:!0}})}}return r.\u0275fac=function(v){return new(v||r)(t.Y36(i.O),t.Y36(n.x),t.Y36(a.z))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-toolbar"]],decls:10,vars:0,consts:[["color","primary"],["mat-icon-button","",3,"click"],[1,"spacer"],["mat-icon-button","","color","warn",3,"click"]],template:function(v,m){1&v&&(t.TgZ(0,"mat-toolbar",0)(1,"button",1),t.NdJ("click",function(){return m.toggleDrawer()}),t.TgZ(2,"mat-icon"),t._uU(3,"menu"),t.qZA()(),t.TgZ(4,"span"),t._uU(5,"Gesti\xf3n Materiales"),t.qZA(),t._UZ(6,"span",2),t.TgZ(7,"button",3),t.NdJ("click",function(){return m.logout()}),t.TgZ(8,"mat-icon"),t._uU(9,"exit_to_app"),t.qZA()()())},dependencies:[_.Ye,s.Hw,u.lW],styles:["mat-toolbar[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:1000}"]}),r})()},3713:(C,d,o)=>{o.d(d,{P:()=>D});var e=o(5412),t=o(4650),i=o(8128),n=o(3589),a=o(3060),_=o(1928),s=o(7881),u=o(6895),h=o(4859);function r(v,m){if(1&v){const l=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("click",function(){t.CHM(l);const O=t.oxw();return t.KtG(O.confirm(!0))}),t._uU(3,"S\xed"),t.qZA(),t._UZ(4,"span",3),t.TgZ(5,"button",4),t.NdJ("click",function(){t.CHM(l);const O=t.oxw();return t.KtG(O.confirm(!1))}),t._uU(6,"No"),t.qZA()(),t.BQk()}}let D=(()=>{class v{constructor(l,c,O,g,E,M){this.data=l,this.dialogMessageService=c,this.dialogService=O,this.router=g,this.localStorageService=E,this.tableStoreService=M,this.message=""}ngOnInit(){this.messageSubs=this.dialogMessageService.message$.subscribe(l=>{this.message=l}),this.messageContextSubs=this.dialogMessageService.messageContext$.subscribe(l=>{this.messageContext=l})}ngOnDestroy(){this.messageSubs?.unsubscribe(),this.messageContextSubs.unsubscribe()}confirm(l){if(!l)return this.dialogService.closeDialog();const c={confirmDeleteDepartureTicket:()=>{this.dialogMessageService.toggleConfirmMessage(l),this.tableStoreService.removeSelectedRow(this.data.departureTicket)},confirmDeleteArticle:()=>{this.dialogMessageService.toggleConfirmMessage(l),this.tableStoreService.removeSelectedRow(this.data.departureTicket)},confirmDeleteUser:()=>{this.dialogMessageService.toggleConfirmMessage(l),this.tableStoreService.removeSelectedRow(this.data.user)},confirmDeleteArea:()=>{this.dialogMessageService.toggleConfirmMessage(l),this.tableStoreService.removeSelectedRow(this.data.area)},confirmDeletePetitioner:()=>{this.dialogMessageService.toggleConfirmMessage(l),this.tableStoreService.removeSelectedRow(this.data.area)},logout:()=>{this.dialogService.closeDialog(),this.localStorageService.removeItem("token"),this.localStorageService.removeItem("user"),this.router.navigateByUrl("/auth")},default:()=>{}};return c[this.messageContext]?c[this.messageContext]():c.default()}}return v.\u0275fac=function(l){return new(l||v)(t.Y36(e.WI),t.Y36(i.z),t.Y36(n.x),t.Y36(a.F0),t.Y36(_.n),t.Y36(s.B))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-dialog-message"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"flex"],["mat-raised-button","","color","warn",3,"click"],[1,"spacer"],["mat-raised-button","","color","primary",3,"click"]],template:function(l,c){1&l&&(t.TgZ(0,"p"),t._uU(1),t.qZA(),t.YNc(2,r,7,0,"ng-container",0)),2&l&&(t.xp6(1),t.Oqu(c.message),t.xp6(1),t.Q6J("ngIf",null==c.data?null:c.data.isConfirmMessage))},dependencies:[u.O5,h.lW],styles:[".flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),v})()},2136:(C,d,o)=>{o.d(d,{e:()=>u});var e=o(262),t=o(9646),i=o(8505),n=o(4650),a=o(4159),_=o(3060),s=o(1928);let u=(()=>{class h{constructor(D,v,m){this.auth=D,this.router=v,this.localStorageService=m}canActivate(D,v){return this.auth.loggedIn(this.localStorageService.getItem("token")).pipe((0,e.K)(m=>(0,t.of)(!1)),(0,i.b)(m=>(m||this.router.navigateByUrl("/auth"),m)))}canLoad(D,v){return this.auth.loggedIn(this.localStorageService.getItem("token")).pipe((0,e.K)(m=>(0,t.of)(!1)),(0,i.b)(m=>(m||this.router.navigateByUrl("/auth"),m)))}}return h.\u0275fac=function(D){return new(D||h)(n.LFG(a.e),n.LFG(_.F0),n.LFG(s.n))},h.\u0275prov=n.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},8128:(C,d,o)=>{o.d(d,{z:()=>n});var e=o(1135),t=o(7579),i=o(4650);let n=(()=>{class a{constructor(){this.message=new e.X(""),this.message$=this.message.asObservable(),this.confirmMessage=new t.x,this.confirmMessage$=this.confirmMessage.asObservable(),this.messageContext=new e.X("confirmDeleteArticle"),this.messageContext$=this.messageContext.asObservable()}setMessage(s){this.message.next(s)}toggleConfirmMessage(s){this.confirmMessage.next(s)}setMessageContext(s){this.messageContext.next(s)}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);